<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>addevent</title>
    <script type="text/javascript" th:src="@{/js/jquery.min.js}" ></script>
    
	  <script th:inline="javascript">
	    var eventid = [[${session.EventId}]];
	    
	    function submitAdd(){
	    	
	    	var n;
	    	n= $('#eventTitle').val().trim();
	        if(n == "")
	        {
	        	alert("eventTitle is required!");
	            return;
	        }
	        
	    	var n;
	    	n= $('#note').val().trim();
	        if(n == "")
	        {
	        	alert("note is required!");
	            return;
	        }
	    	
	    	n= $('#date1').val().trim();
	        if(n == "")
	        {
	        	alert("startTime is required!");
	            return;
	        }
	        
	    	n= $('#date2').val().trim();
	        if(n == "")
	        {
	        	alert("endTime is required!");
	            return;
	        }
	        
	    	
	    	
	    	
	    	
	    	
	    	var req = {};
	    	req.userId = $('#userId').val().trim();
	    	req.eventTitle = $('#eventTitle').val().trim();
	    	req.note = $('#note').val().trim();
	    	req.priority = $('#priority').val().trim();
	    	req.startTime = $('#date1').val().trim() + " " + $('#time1').val().trim();
	    	req.endTime = $('#date2').val().trim() + " " + $('#time2').val().trim();
	    	
	    	
	    	$.ajax({
	    		  type: "POST",
	    		  url: "/event/addevent",
	    		  data: JSON.stringify(req),
	    		  success: function(){
	    			  back();
	    		  },
	    		  contentType : "application/json"
	    		});
	    }
	    
	    
	    function back(){
	    	location.href = "/calender/";
	    }
	    
	    </script>
	    
</head>
<body>
				<h1>This is add page</h1>
	

	            	<p1>userId: </p1>
               		<input id="userId" name="userId"  type="text"  th:value="${session.UserId}"  readonly="readonly"><br>
               		<p1 >Title: </p1>
               		<input id="eventTitle"  name="eventTitle"  type="text"  required><br>
					  <textarea id="note" name="note" placeholder="put note here" rows="10" cols="30" required></textarea>
					  <br><br>
               		<p1>priority: </p1>
					  <select id="priority" name="priority">
					    <option value="0">0</option>
					    <option value="1">1</option>
					    <option value="2">2</option>
					    <option value="3">3</option>
					  </select><br>
					<label for="startTime">start Time:</label>
					<input type="date"  id="date1" >
					<input type="time"  id="time1" >
					<br>
					<label for="endTime">start Time:</label>
					<input type="date"  id="date2" >
					<input type="time"  id="time2" >
					
					
               <button  onclick="submitAdd()">add</button>
               
               <button onclick="back()" class="button"> Back</button>
               
</body>
</html>